<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Roman AI | Mobile Ver</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Manrope:wght@300;600&display=swap');

        body {
            background-color: #1a1a1a;
            color: #fff;
            font-family: 'Manrope', sans-serif;
            margin: 0; padding: 0;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
        }

        /* --- ФОН --- */
        #canvas1 { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        
        /* --- ШАПКА (STICKY) --- */
        .header {
            position: sticky; top: 0; z-index: 100;
            background: rgba(26, 26, 26, 0.85); /* Полупрозрачный фон */
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px 20px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }

        .logo { font-family: 'Oswald', sans-serif; font-size: 1.2rem; color: #fff; letter-spacing: 1px; text-transform: uppercase; }
        .logo span { color: #39ff14; }
        .subtitle { font-size: 0.6rem; color: #888; letter-spacing: 2px; text-transform: uppercase; text-align: right; }

        /* --- ЗАГОЛОВКИ РАЗДЕЛОВ --- */
        .section-title {
            font-family: 'Oswald', sans-serif; font-size: 1.2rem; color: #fff;
            margin: 40px 20px 20px 20px;
            display: flex; align-items: center; gap: 10px;
            text-transform: uppercase; letter-spacing: 1px;
        }
        .section-title span { color: #39ff14; }
        .section-title::before { content: ''; width: 4px; height: 20px; background: #39ff14; box-shadow: 0 0 10px #39ff14; display: block; }

        /* --- ВИДЕО КАРТОЧКИ --- */
        .video-grid {
            padding: 0 20px;
            display: flex; flex-direction: column; gap: 20px;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px; overflow: hidden;
        }
        video { width: 100%; display: block; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .card-content { padding: 12px 15px; }
        .card-title { font-weight: 700; color: #fff; font-size: 1rem; margin-bottom: 4px; text-transform: uppercase; font-family: 'Oswald', sans-serif; }
        .card-tag { display: inline-block; background: #39ff14; color: #000; font-size: 0.6rem; font-weight: bold; padding: 2px 6px; border-radius: 4px; margin-top: 5px; }

        /* --- НЕЙРО ГАЛЕРЕЯ (СВАЙПЕР) --- */
        .gallery-wrapper {
            display: flex; gap: 15px; padding: 10px 20px 30px 20px;
            overflow-x: auto; scroll-snap-type: x mandatory;
            scrollbar-width: none;
        }
        .gallery-wrapper::-webkit-scrollbar { display: none; }
        
        .gallery-item {
            flex: 0 0 auto; width: 260px; height: 380px;
            background: #111; border-radius: 12px;
            scroll-snap-align: center; position: relative; overflow: hidden;
            border: 1px solid rgba(57, 255, 20, 0.2);
        }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; }
        .gallery-overlay { position: absolute; bottom: 0; left: 0; width: 100%; background: linear-gradient(to top, #000, transparent); padding: 15px; }
        .gallery-tag { color: #39ff14; font-family: 'Oswald', sans-serif; font-size: 0.9rem; text-transform: uppercase; }

        /* --- МУЗЫКАЛЬНЫЕ КНОПКИ --- */
        .music-section { padding: 0 20px; margin-bottom: 30px; }
        .music-group-title {
            font-size: 0.8rem; color: #888; text-transform: uppercase; letter-spacing: 2px;
            margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 5px; margin-top: 20px;
        }

        .track-btn {
            background: #39ff14; color: #000;
            margin-bottom: 12px;
            padding: 0 15px;
            height: 55px; /* Фиксированная высота */
            display: flex; align-items: center; justify-content: space-between;
            font-weight: bold; font-family: 'Manrope', sans-serif; text-transform: uppercase;
            font-size: 0.85rem; border: none; outline: none;
            position: relative; overflow: hidden;
            transition: all 0.2s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .track-btn:active { transform: scale(0.98); }
        
        /* Стили формы кнопок */
        .style-rect { border-radius: 8px; } /* На заказ */
        .style-oval { border-radius: 50px; } /* Мои */

        /* Активный трек */
        .track-btn.active {
            background: #fff; color: #000;
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.5);
        }

        /* Внутренности кнопки */
        .btn-left { display: flex; align-items: center; gap: 10px; flex: 1; overflow: hidden; }
        .play-icon { font-size: 1rem; min-width: 20px; }
        
        /* Бегущая строка */
        .text-mask { flex: 1; overflow: hidden; white-space: nowrap; position: relative; }
        .scrolling-text { display: inline-block; }
        /* Анимация запускается JS-ом если текст длинный */
        .animate-scroll { animation: marquee 5s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* МИНИ ЭКВАЛАЙЗЕР В КНОПКЕ */
        .mini-eq {
            display: flex; gap: 2px; align-items: flex-end; height: 15px; width: 15px; margin-left: 10px;
        }
        .bar { width: 3px; background: #000; height: 2px; transition: 0.2s; }
        .track-btn.active .bar { animation: jump 0.5s infinite; }
        .track-btn.active .bar:nth-child(1) { animation-delay: 0s; }
        .track-btn.active .bar:nth-child(2) { animation-delay: 0.1s; }
        .track-btn.active .bar:nth-child(3) { animation-delay: 0.2s; }
        @keyframes jump { 0% { height: 2px; } 50% { height: 100%; } 100% { height: 2px; } }

        /* --- FOOTER --- */
        .footer-links { padding: 40px 20px 80px 20px; text-align: center; }
        .tg-btn {
            display: block; width: 100%; padding: 15px 0;
            border: 1px solid #39ff14; color: #39ff14;
            text-decoration: none; font-family: 'Oswald', sans-serif;
            text-transform: uppercase; letter-spacing: 2px; border-radius: 8px;
            font-size: 1rem; margin-bottom: 10px; transition: 0.3s;
        }
        .tg-btn:active { background: #39ff14; color: #000; }

        /* --- СТИКИ ПЛЕЕР --- */
        .sticky-player {
            position: fixed; bottom: 20px; left: 5%; width: 90%;
            background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(15px);
            border: 1px solid #39ff14; border-radius: 50px;
            padding: 10px 20px; display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 10px 40px rgba(0,0,0,0.8); z-index: 200; box-sizing: border-box;
            transform: translateY(150%); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .sticky-player.visible { transform: translateY(0); }
        .player-info { color: #fff; font-size: 0.8rem; font-weight: bold; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 60%; }
        .player-ctrl { font-size: 1.5rem; color: #39ff14; background: none; border: none; }

    </style>
</head>
<body>

    <canvas id="canvas1"></canvas>

    <div class="header">
        <div class="logo">ART <span>HOLIDAYS</span></div>
        <div class="subtitle">ROMAN AI CREATOR</div>
    </div>

    <div class="section-title">ВИДЕО <span>ПРОДАКШН</span></div>
    <div class="video-grid">
        <div class="glass-card">
            <video controls playsinline preload="metadata" poster="https://placehold.co/600x340/111/39ff14?text=VIDEO+1"><source src="promo.mp4" type="video/mp4"></video>
            <div class="card-content">
                <div class="card-title">Рекламный Ролик</div>
                <div class="card-tag">COMMERCIAL</div>
            </div>
        </div>
        <div class="glass-card">
            <video controls playsinline preload="metadata" poster="https://placehold.co/600x340/111/39ff14?text=VIDEO+2"><source src="promo2.mp4" type="video/mp4"></video>
            <div class="card-content">
                <div class="card-title">Музыкальный Клип</div>
                <div class="card-tag">MUSIC VIDEO</div>
            </div>
        </div>
        <div class="glass-card">
            <video controls playsinline preload="metadata" poster="https://placehold.co/600x340/111/39ff14?text=VIDEO+3"><source src="promo3.mp4" type="video/mp4"></video>
            <div class="card-content">
                <div class="card-title">Showreel 2024</div>
                <div class="card-tag">EDITING</div>
            </div>
        </div>
        <div class="glass-card">
            <video controls playsinline preload="metadata" poster="https://placehold.co/600x340/111/39ff14?text=VIDEO+4"><source src="promo4.mp4" type="video/mp4"></video>
            <div class="card-content">
                <div class="card-title">Fashion Film</div>
                <div class="card-tag">STYLE</div>
            </div>
        </div>
        <div class="glass-card">
            <video controls playsinline preload="metadata" poster="https://placehold.co/600x340/111/39ff14?text=VIDEO+5"><source src="promo5.mp4" type="video/mp4"></video>
            <div class="card-content">
                <div class="card-title">3D Анимация</div>
                <div class="card-tag">VFX</div>
            </div>
        </div>
        <div class="glass-card">
            <video controls playsinline preload="metadata" poster="https://placehold.co/600x340/111/39ff14?text=VIDEO+6"><source src="promo6.mp4" type="video/mp4"></video>
            <div class="card-content">
                <div class="card-title">Reels Контент</div>
                <div class="card-tag">SOCIAL</div>
            </div>
        </div>
    </div>

    <div class="section-title">НЕЙРО <span>ГАЛЕРЕЯ</span></div>
    <div class="gallery-wrapper" id="gallery-container">
        </div>

    <div class="section-title">МУЗЫКАЛЬНАЯ <span>ЛАБОРАТОРИЯ</span></div>
    
    <div class="music-section">
        <div class="music-group-title">На заказ</div>
        
        <div class="track-btn style-rect" onclick="playTrack('s1', 'Рекламное Промо', this)">
            <div class="btn-left">
                <span class="play-icon">▶</span>
                <div class="text-mask"><span class="scrolling-text">Рекламное Промо</span></div>
            </div>
            <div class="mini-eq"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="track-btn style-rect" onclick="playTrack('s2', 'Показ Мод (Фон)', this)">
            <div class="btn-left">
                <span class="play-icon">▶</span>
                <div class="text-mask"><span class="scrolling-text">Показ Мод (Фон)</span></div>
            </div>
            <div class="mini-eq"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="track-btn style-rect" onclick="playTrack('s3', 'Интро для IT', this)">
            <div class="btn-left">
                <span class="play-icon">▶</span>
                <div class="text-mask"><span class="scrolling-text">Интро для IT</span></div>
            </div>
            <div class="mini-eq"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="music-group-title">Мои треки</div>

        <div class="track-btn style-oval" onclick="playTrack('ss1', 'Кибер Атмосфера', this)">
            <div class="btn-left">
                <span class="play-icon">▶</span>
                <div class="text-mask"><span class="scrolling-text">Кибер Атмосфера</span></div>
            </div>
            <div class="mini-eq"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="track-btn style-oval" onclick="playTrack('ss2', 'Шрамы вместо её имени (Remix)', this)">
            <div class="btn-left">
                <span class="play-icon">▶</span>
                <div class="text-mask"><span class="scrolling-text">Шрамы вместо её имени (Remix)</span></div>
            </div>
            <div class="mini-eq"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>

        <div class="track-btn style-oval" onclick="playTrack('ss3', 'Ночной Драйв', this)">
            <div class="btn-left">
                <span class="play-icon">▶</span>
                <div class="text-mask"><span class="scrolling-text">Ночной Драйв</span></div>
            </div>
            <div class="mini-eq"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
        </div>
    </div>

    <div class="footer-links">
        <a href="https://t.me/RomanArtHolidays" class="tg-btn">Связаться в Telegram</a>
        <a href="https://vk.com/artholidays_ai" class="tg-btn" style="border-color:#fff; color:#fff;">Группа VK</a>
    </div>

    <audio id="audio"></audio>
    <div class="sticky-player" id="stickyPlayer">
        <div class="player-info" id="playerText">Выберите трек</div>
        <button class="player-ctrl" id="mainPlayBtn" onclick="toggleMainPlay()">▶</button>
    </div>

    <script>
        // --- ЧАСТИЦЫ ---
        const canvas = document.getElementById('canvas1'); const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = [];
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2; this.speedX = Math.random() * 0.5 - 0.25; this.speedY = Math.random() * 0.5 - 0.25;
            }
            update() {
                this.x += this.speedX; this.y += this.speedY;
                if (this.x > canvas.width) this.x = 0; if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0; if (this.y < 0) this.y = canvas.height;
            }
            draw() { ctx.fillStyle = 'rgba(57, 255, 20, 0.3)'; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); }
        }
        function initParticles() { particles = []; for(let i=0; i<40; i++) particles.push(new Particle()); }
        function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); particles.forEach(p=>{p.update();p.draw();}); requestAnimationFrame(animate); }
        initParticles(); animate();

        // --- ГАЛЕРЕЯ ---
        const gallery = document.getElementById('gallery-container');
        const tags = ["КИБЕРПАНК", "НЕОН", "АБСТРАКЦИЯ", "SCIFI", "ПОРТРЕТ"];
        for(let i=1; i<=20; i++){
            const tag = tags[Math.floor(Math.random()*tags.length)];
            const ph = `https://placehold.co/260x380/111/39ff14?text=ART+${i}&font=oswald`;
            gallery.innerHTML += `<div class="gallery-item"><img src="p${i}.jpg" onerror="this.src='${ph}'"><div class="gallery-overlay"><div class="gallery-tag">${tag}</div></div></div>`;
        }

        // --- МУЗЫКА ---
        const audio = document.getElementById('audio');
        const stickyPlayer = document.getElementById('stickyPlayer');
        const playerText = document.getElementById('playerText');
        const mainBtn = document.getElementById('mainPlayBtn');
        let currentBtn = null;

        function playTrack(id, name, btn) {
            // Сброс старой кнопки
            if (currentBtn) {
                currentBtn.classList.remove('active');
                currentBtn.querySelector('.play-icon').innerText = '▶';
                // Остановить бегущую строку
                const oldText = currentBtn.querySelector('.scrolling-text');
                oldText.classList.remove('animate-scroll'); 
            }

            // Если клик по тому же треку -> пауза
            if (currentBtn === btn && !audio.paused) {
                audio.pause();
                mainBtn.innerText = '▶';
                return;
            }
            
            // Если клик по тому же треку на паузе -> плей
            if (currentBtn === btn && audio.paused) {
                audio.play();
                btn.classList.add('active');
                btn.querySelector('.play-icon').innerText = '❚❚';
                mainBtn.innerText = '❚❚';
                return;
            }

            // Новый трек
            currentBtn = btn;
            btn.classList.add('active');
            btn.querySelector('.play-icon').innerText = '❚❚';
            
            // Проверка длины текста для бегущей строки
            const textSpan = btn.querySelector('.scrolling-text');
            if (textSpan.offsetWidth > btn.querySelector('.text-mask').offsetWidth) {
                textSpan.classList.add('animate-scroll');
            }

            playerText.innerText = name;
            stickyPlayer.classList.add('visible');
            mainBtn.innerText = '❚❚';

            // Умная загрузка (mp3 -> wav)
            const mp3 = id + '.mp3';
            const wav = id + '.wav';
            
            audio.src = mp3;
            audio.play().catch(e => {
                console.log("MP3 fail, trying WAV");
                audio.src = wav;
                audio.play();
            });
        }

        function toggleMainPlay() {
            if(audio.paused) {
                audio.play();
                mainBtn.innerText = '❚❚';
                if(currentBtn) {
                    currentBtn.classList.add('active');
                    currentBtn.querySelector('.play-icon').innerText = '❚❚';
                }
            } else {
                audio.pause();
                mainBtn.innerText = '▶';
                if(currentBtn) {
                    currentBtn.classList.remove('active'); // Убираем активность (эквалайзер стоп)
                    currentBtn.querySelector('.play-icon').innerText = '▶';
                }
            }
        }

        // Автостоп видео при проигрывании аудио
        const videos = document.querySelectorAll('video');
        audio.onplay = () => { videos.forEach(v => v.pause()); };
        videos.forEach(v => v.onplay = () => { audio.pause(); mainBtn.innerText = '▶'; if(currentBtn) {currentBtn.classList.remove('active'); currentBtn.querySelector('.play-icon').innerText = '▶';} });

    </script>
</body>
</html>